# In CentOS, contents should be placed in the file /etc/sysconfig/celeryd

# Names of nodes to start (space-separated)
CELERYD_NODES="<%= node[:app][:name] %>"

# Where to chdir at start.
CELERYD_CHDIR="<%= "#{node[:app][:directory]}/#{node[:app][:host]}/#{node[:app][:name]}" %>"

# Python interpreter from environment.
ENV_PYTHON="<%= "#{node[:virtualenv][:path]}/bin/python" %>"

# Absolute or relative path to the 'celery' command:
CELERY_BIN="<%= "#{node[:virtualenv][:path]}/bin/celery" %>"

# App instance to use
# comment out this line if you don't use an app
CELERY_APP="<%= node[:app][:name] %>"

# Extra arguments to celeryd
CELERYD_OPTS="--time-limit=300 --concurrency=8"

# Workers run as an unprivileged user
CELERYD_USER=celery
CELERYD_GROUP=celery

# Name of the projects settings module.
export DJANGO_SETTINGS_MODULE="<%= "#{node[:app][:name]}.#{node[:app][:settings]}" %>"